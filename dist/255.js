/*! For license information please see 255.js.LICENSE.txt */
(self.webpackChunkhighlight_and_share=self.webpackChunkhighlight_and_share||[]).push([[255],{255:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function createElement(className,tagName,appendToEl){const el=document.createElement(tagName||"div");return className&&(el.className=className),appendToEl&&appendToEl.appendChild(el),el}function equalizePoints(p1,p2){return p1.x=p2.x,p1.y=p2.y,void 0!==p2.id&&(p1.id=p2.id),p1}function roundPoint(p){p.x=Math.round(p.x),p.y=Math.round(p.y)}function getDistanceBetween(p1,p2){const x=Math.abs(p1.x-p2.x),y=Math.abs(p1.y-p2.y);return Math.sqrt(x*x+y*y)}function pointsEqual(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function clamp(val,min,max){return Math.min(Math.max(val,min),max)}function toTransformString(x,y,scale){let propValue="translate3d("+x+"px,"+(y||0)+"px,0)";return void 0!==scale&&(propValue+=" scale3d("+scale+","+scale+",1)"),propValue}function setTransform(el,x,y,scale){el.style.transform=toTransformString(x,y,scale)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>PhotoSwipe});function setTransitionStyle(el,prop,duration,ease){el.style.transition=prop?prop+" "+duration+"ms "+(ease||"cubic-bezier(.4,0,.22,1)"):"none"}function setWidthHeight(el,w,h){el.style.width="number"==typeof w?w+"px":w,el.style.height="number"==typeof h?h+"px":h}const LOAD_STATE_IDLE="idle",LOAD_STATE_LOADING="loading",LOAD_STATE_LOADED="loaded",LOAD_STATE_ERROR="error";let supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{supportsPassive=!0}}))}catch(e){}class DOMEvents{constructor(){this._pool=[]}add(target,type,listener,passive){this._toggleListener(target,type,listener,passive)}remove(target,type,listener,passive){this._toggleListener(target,type,listener,passive,!0)}removeAll(){this._pool.forEach((poolItem=>{this._toggleListener(poolItem.target,poolItem.type,poolItem.listener,poolItem.passive,!0,!0)})),this._pool=[]}_toggleListener(target,type,listener,passive,unbind,skipPool){if(!target)return;const methodName=unbind?"removeEventListener":"addEventListener";type.split(" ").forEach((eType=>{if(eType){skipPool||(unbind?this._pool=this._pool.filter((poolItem=>poolItem.type!==eType||poolItem.listener!==listener||poolItem.target!==target)):this._pool.push({target,type:eType,listener,passive}));const eventOptions=!!supportsPassive&&{passive:passive||!1};target[methodName](eType,listener,eventOptions)}}))}}function getViewportSize(options,pswp){if(options.getViewportSizeFn){const newViewportSize=options.getViewportSizeFn(options,pswp);if(newViewportSize)return newViewportSize}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function parsePaddingOption(prop,options,viewportSize,itemData,index){let paddingValue;if(options.paddingFn)paddingValue=options.paddingFn(viewportSize,itemData,index)[prop];else if(options.padding)paddingValue=options.padding[prop];else{const legacyPropName="padding"+prop[0].toUpperCase()+prop.slice(1);options[legacyPropName]&&(paddingValue=options[legacyPropName])}return paddingValue||0}function getPanAreaSize(options,viewportSize,itemData,index){return{x:viewportSize.x-parsePaddingOption("left",options,viewportSize,itemData,index)-parsePaddingOption("right",options,viewportSize,itemData,index),y:viewportSize.y-parsePaddingOption("top",options,viewportSize,itemData,index)-parsePaddingOption("bottom",options,viewportSize,itemData,index)}}class PanBounds{constructor(slide){this.slide=slide,this.currZoomLevel=1,this.center={},this.max={},this.min={},this.reset()}update(currZoomLevel){this.currZoomLevel=currZoomLevel,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(axis){const{pswp}=this.slide,elSize=this.slide["x"===axis?"width":"height"]*this.currZoomLevel,padding=parsePaddingOption("x"===axis?"left":"top",pswp.options,pswp.viewportSize,this.slide.data,this.slide.index),panAreaSize=this.slide.panAreaSize[axis];this.center[axis]=Math.round((panAreaSize-elSize)/2)+padding,this.max[axis]=elSize>panAreaSize?Math.round(panAreaSize-elSize)+padding:this.center[axis],this.min[axis]=elSize>panAreaSize?padding:this.center[axis]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(axis,panOffset){return clamp(panOffset,this.max[axis],this.min[axis])}}class ZoomLevel{constructor(options,itemData,index,pswp){this.pswp=pswp,this.options=options,this.itemData=itemData,this.index=index}update(maxWidth,maxHeight,panAreaSize){this.elementSize={x:maxWidth,y:maxHeight},this.panAreaSize=panAreaSize;const hRatio=this.panAreaSize.x/this.elementSize.x,vRatio=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,hRatio<vRatio?hRatio:vRatio),this.fill=Math.min(1,hRatio>vRatio?hRatio:vRatio),this.vFill=Math.min(1,vRatio),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(optionPrefix){const optionName=optionPrefix+"ZoomLevel",optionValue=this.options[optionName];if(optionValue)return"function"==typeof optionValue?optionValue(this):"fill"===optionValue?this.fill:"fit"===optionValue?this.fit:Number(optionValue)}_getSecondary(){let currZoomLevel=this._parseZoomLevelOption("secondary");return currZoomLevel||(currZoomLevel=Math.min(1,3*this.fit),currZoomLevel*this.elementSize.x>4e3&&(currZoomLevel=4e3/this.elementSize.x),currZoomLevel)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){const currZoomLevel=this._parseZoomLevelOption("max");return currZoomLevel||Math.max(1,4*this.fit)}}class Slide{constructor(data,index,pswp){this.data=data,this.index=index,this.pswp=pswp,this.isActive=index===pswp.currIndex,this.currentResolution=0,this.panAreaSize={},this.isFirstSlide=this.isActive&&!pswp.opener.isOpen,this.zoomLevels=new ZoomLevel(pswp.options,data,index,pswp),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index}),this.pan={x:0,y:0},this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=createElement("pswp__zoom-wrap"),this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.bounds=new PanBounds(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(isActive){isActive&&!this.isActive?this.activate():!isActive&&this.isActive&&this.deactivate()}append(holderElement){this.holderElement=holderElement,this.data?(this.calculateSize(),this.container.style.transformOrigin="0 0",this.load(),this.appendHeavy(),this.updateContentSize(),this.holderElement.innerHTML="",this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate()):this.holderElement.innerHTML=""}load(){this.content.load(),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp}=this;!this.heavyAppended&&pswp.opener.isOpen&&!pswp.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}updateContentSize(force){const scaleMultiplier=this.currentResolution||this.zoomLevels.initial;if(!scaleMultiplier)return;const width=Math.round(this.width*scaleMultiplier)||this.pswp.viewportSize.x,height=Math.round(this.height*scaleMultiplier)||this.pswp.viewportSize.y;(this.sizeChanged(width,height)||force)&&this.content.setDisplayedSize(width,height)}sizeChanged(width,height){return(width!==this.prevDisplayedWidth||height!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=width,this.prevDisplayedHeight=height,!0)}getPlaceholderElement(){if(this.content.placeholder)return this.content.placeholder.element}zoomTo(destZoomLevel,centerPoint,transitionDuration,ignoreBounds){const{pswp}=this;if(!this.isZoomable()||pswp.mainScroll.isShifted())return;pswp.dispatch("beforeZoomTo",{destZoomLevel,centerPoint,transitionDuration}),pswp.animations.stopAllPan();const prevZoomLevel=this.currZoomLevel;ignoreBounds||(destZoomLevel=clamp(destZoomLevel,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(destZoomLevel),this.pan.x=this.calculateZoomToPanOffset("x",centerPoint,prevZoomLevel),this.pan.y=this.calculateZoomToPanOffset("y",centerPoint,prevZoomLevel),roundPoint(this.pan);const finishTransition=()=>{this._setResolution(destZoomLevel),this.applyCurrentZoomPan()};transitionDuration?pswp.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:finishTransition,duration:transitionDuration,easing:pswp.options.easing}):finishTransition()}toggleZoom(centerPoint){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,centerPoint,this.pswp.options.zoomAnimationDuration)}setZoomLevel(currZoomLevel){this.currZoomLevel=currZoomLevel,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(axis,point,prevZoomLevel){if(0===this.bounds.max[axis]-this.bounds.min[axis])return this.bounds.center[axis];point||(point=this.pswp.getViewportCenterPoint());const zoomFactor=this.currZoomLevel/prevZoomLevel;return this.bounds.correctPan(axis,(this.pan[axis]-point[axis])*zoomFactor+point[axis])}panTo(panX,panY){this.pan.x=this.bounds.correctPan("x",panX),this.pan.y=this.bounds.correctPan("y",panY),this.applyCurrentZoomPan()}isPannable(){return this.width&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return this.width&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),equalizePoints(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(x,y,zoom){zoom/=this.currentResolution||this.zoomLevels.initial,setTransform(this.container,x,y,zoom)}calculateSize(){const{pswp}=this;equalizePoints(this.panAreaSize,getPanAreaSize(pswp.options,pswp.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),pswp.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const scale=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return toTransformString(this.pan.x,this.pan.y,scale)}_setResolution(newResolution){newResolution!==this.currentResolution&&(this.currentResolution=newResolution,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}class DragHandler{constructor(gestures){this.gestures=gestures,this.pswp=gestures.pswp,this.startPan={}}start(){equalizePoints(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1,prevP1,dragAxis,pswp}=this.gestures,{currSlide}=pswp;if("y"===dragAxis&&pswp.options.closeOnVerticalDrag&&currSlide.currZoomLevel<=currSlide.zoomLevels.fit&&!this.gestures.isMultitouch){const panY=currSlide.pan.y+(p1.y-prevP1.y);if(!pswp.dispatch("verticalDrag",{panY}).defaultPrevented){this._setPanWithFriction("y",panY,.6);const bgOpacity=1-Math.abs(this._getVerticalDragRatio(currSlide.pan.y));pswp.applyBgOpacity(bgOpacity),currSlide.applyCurrentZoomPan()}}else{this._panOrMoveMainScroll("x")||(this._panOrMoveMainScroll("y"),roundPoint(currSlide.pan),currSlide.applyCurrentZoomPan())}}end(){const{pswp,velocity}=this.gestures,{mainScroll}=pswp;let indexDiff=0;if(pswp.animations.stopAll(),mainScroll.isShifted()){const currentSlideVisibilityRatio=(mainScroll.x-mainScroll.getCurrSlideX())/pswp.viewportSize.x;velocity.x<-.5&&currentSlideVisibilityRatio<0||velocity.x<.1&&currentSlideVisibilityRatio<-.5?(indexDiff=1,velocity.x=Math.min(velocity.x,0)):(velocity.x>.5&&currentSlideVisibilityRatio>0||velocity.x>-.1&&currentSlideVisibilityRatio>.5)&&(indexDiff=-1,velocity.x=Math.max(velocity.x,0)),mainScroll.moveIndexBy(indexDiff,!0,velocity.x)}pswp.currSlide.currZoomLevel>pswp.currSlide.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(axis){const{pswp}=this,{currSlide}=pswp,{velocity}=this.gestures,{pan,bounds}=currSlide,panPos=pan[axis],restoreBgOpacity=pswp.bgOpacity<1&&"y"===axis,projectedPosition=panPos+function(initialVelocity,decelerationRate){return initialVelocity*decelerationRate/(1-decelerationRate)}(velocity[axis],.995);if(restoreBgOpacity){const vDragRatio=this._getVerticalDragRatio(panPos),projectedVDragRatio=this._getVerticalDragRatio(projectedPosition);if(vDragRatio<0&&projectedVDragRatio<-.4||vDragRatio>0&&projectedVDragRatio>.4)return void pswp.close()}const correctedPanPosition=bounds.correctPan(axis,projectedPosition);if(panPos===correctedPanPosition)return;const dampingRatio=correctedPanPosition===projectedPosition?1:.82,initialBgOpacity=pswp.bgOpacity,totalPanDist=correctedPanPosition-panPos;pswp.animations.startSpring({name:"panGesture"+axis,isPan:!0,start:panPos,end:correctedPanPosition,velocity:velocity[axis],dampingRatio,onUpdate:pos=>{if(restoreBgOpacity&&pswp.bgOpacity<1){const animationProgressRatio=1-(correctedPanPosition-pos)/totalPanDist;pswp.applyBgOpacity(clamp(initialBgOpacity+(1-initialBgOpacity)*animationProgressRatio,0,1))}pan[axis]=Math.floor(pos),currSlide.applyCurrentZoomPan()}})}_panOrMoveMainScroll(axis){const{p1,pswp,dragAxis,prevP1,isMultitouch}=this.gestures,{currSlide,mainScroll}=pswp,delta=p1[axis]-prevP1[axis],newMainScrollX=mainScroll.x+delta;if(!delta)return;if("x"===axis&&!currSlide.isPannable()&&!isMultitouch)return mainScroll.moveTo(newMainScrollX,!0),!0;const{bounds}=currSlide,newPan=currSlide.pan[axis]+delta;if(pswp.options.allowPanToNext&&"x"===dragAxis&&"x"===axis&&!isMultitouch){const currSlideMainScrollX=mainScroll.getCurrSlideX(),mainScrollShiftDiff=mainScroll.x-currSlideMainScrollX,isLeftToRight=delta>0,isRightToLeft=!isLeftToRight;if(newPan>bounds.min[axis]&&isLeftToRight){if(bounds.min[axis]<=this.startPan[axis])return mainScroll.moveTo(newMainScrollX,!0),!0;this._setPanWithFriction(axis,newPan)}else if(newPan<bounds.max[axis]&&isRightToLeft){if(this.startPan[axis]<=bounds.max[axis])return mainScroll.moveTo(newMainScrollX,!0),!0;this._setPanWithFriction(axis,newPan)}else if(0!==mainScrollShiftDiff){if(mainScrollShiftDiff>0)return mainScroll.moveTo(Math.max(newMainScrollX,currSlideMainScrollX),!0),!0;if(mainScrollShiftDiff<0)return mainScroll.moveTo(Math.min(newMainScrollX,currSlideMainScrollX),!0),!0}else this._setPanWithFriction(axis,newPan)}else"y"===axis&&(mainScroll.isShifted()||bounds.min.y===bounds.max.y)||this._setPanWithFriction(axis,newPan)}_getVerticalDragRatio(panY){return(panY-this.pswp.currSlide.bounds.center.y)/(this.pswp.viewportSize.y/3)}_setPanWithFriction(axis,potentialPan,customFriction){const{pan,bounds}=this.pswp.currSlide;if(bounds.correctPan(axis,potentialPan)!==potentialPan||customFriction){const delta=Math.round(potentialPan-pan[axis]);pan[axis]+=delta*(customFriction||.35)}else pan[axis]=potentialPan}}function getZoomPointsCenter(p,p1,p2){return p.x=(p1.x+p2.x)/2,p.y=(p1.y+p2.y)/2,p}class ZoomHandler{constructor(gestures){this.gestures=gestures,this.pswp=this.gestures.pswp,this._startPan={},this._startZoomPoint={},this._zoomPoint={}}start(){this._startZoomLevel=this.pswp.currSlide.currZoomLevel,equalizePoints(this._startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1,startP1,p2,startP2,pswp}=this.gestures,{currSlide}=pswp,minZoomLevel=currSlide.zoomLevels.min,maxZoomLevel=currSlide.zoomLevels.max;if(!currSlide.isZoomable()||pswp.mainScroll.isShifted())return;getZoomPointsCenter(this._startZoomPoint,startP1,startP2),getZoomPointsCenter(this._zoomPoint,p1,p2);let currZoomLevel=1/getDistanceBetween(startP1,startP2)*getDistanceBetween(p1,p2)*this._startZoomLevel;if(currZoomLevel>currSlide.zoomLevels.initial+currSlide.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),currZoomLevel<minZoomLevel)if(pswp.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=currSlide.zoomLevels.initial){const bgOpacity=1-(minZoomLevel-currZoomLevel)/(minZoomLevel/1.2);pswp.dispatch("pinchClose",{bgOpacity}).defaultPrevented||pswp.applyBgOpacity(bgOpacity)}else currZoomLevel=minZoomLevel-.15*(minZoomLevel-currZoomLevel);else currZoomLevel>maxZoomLevel&&(currZoomLevel=maxZoomLevel+.05*(currZoomLevel-maxZoomLevel));currSlide.pan.x=this._calculatePanForZoomLevel("x",currZoomLevel),currSlide.pan.y=this._calculatePanForZoomLevel("y",currZoomLevel),currSlide.setZoomLevel(currZoomLevel),currSlide.applyCurrentZoomPan()}end(){const{pswp}=this,{currSlide}=pswp;currSlide.currZoomLevel<currSlide.zoomLevels.initial&&!this._wasOverFitZoomLevel&&pswp.options.pinchToClose?pswp.close():this.correctZoomPan()}_calculatePanForZoomLevel(axis,currZoomLevel){const zoomFactor=currZoomLevel/this._startZoomLevel;return this._zoomPoint[axis]-(this._startZoomPoint[axis]-this._startPan[axis])*zoomFactor}correctZoomPan(ignoreGesture){const{pswp}=this,{currSlide}=pswp;if(!currSlide.isZoomable())return;void 0===this._zoomPoint.x&&(ignoreGesture=!0);const prevZoomLevel=currSlide.currZoomLevel;let destinationZoomLevel,currZoomLevelNeedsChange=!0;prevZoomLevel<currSlide.zoomLevels.initial?destinationZoomLevel=currSlide.zoomLevels.initial:prevZoomLevel>currSlide.zoomLevels.max?destinationZoomLevel=currSlide.zoomLevels.max:(currZoomLevelNeedsChange=!1,destinationZoomLevel=prevZoomLevel);const initialBgOpacity=pswp.bgOpacity,restoreBgOpacity=pswp.bgOpacity<1,initialPan=equalizePoints({},currSlide.pan);let destinationPan=equalizePoints({},initialPan);ignoreGesture&&(this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=prevZoomLevel,equalizePoints(this._startPan,initialPan)),currZoomLevelNeedsChange&&(destinationPan={x:this._calculatePanForZoomLevel("x",destinationZoomLevel),y:this._calculatePanForZoomLevel("y",destinationZoomLevel)}),currSlide.setZoomLevel(destinationZoomLevel),destinationPan={x:currSlide.bounds.correctPan("x",destinationPan.x),y:currSlide.bounds.correctPan("y",destinationPan.y)},currSlide.setZoomLevel(prevZoomLevel);let panNeedsChange=!0;if(pointsEqual(destinationPan,initialPan)&&(panNeedsChange=!1),!panNeedsChange&&!currZoomLevelNeedsChange&&!restoreBgOpacity)return currSlide._setResolution(destinationZoomLevel),void currSlide.applyCurrentZoomPan();pswp.animations.stopAllPan(),pswp.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:now=>{if(now/=1e3,panNeedsChange||currZoomLevelNeedsChange){if(panNeedsChange&&(currSlide.pan.x=initialPan.x+(destinationPan.x-initialPan.x)*now,currSlide.pan.y=initialPan.y+(destinationPan.y-initialPan.y)*now),currZoomLevelNeedsChange){const newZoomLevel=prevZoomLevel+(destinationZoomLevel-prevZoomLevel)*now;currSlide.setZoomLevel(newZoomLevel)}currSlide.applyCurrentZoomPan()}restoreBgOpacity&&pswp.bgOpacity<1&&pswp.applyBgOpacity(clamp(initialBgOpacity+(1-initialBgOpacity)*now,0,1))},onComplete:()=>{currSlide._setResolution(destinationZoomLevel),currSlide.applyCurrentZoomPan()}})}}function didTapOnMainContent(event){return!!event.target.closest(".pswp__container")}class TapHandler{constructor(gestures){this.gestures=gestures}click(point,originalEvent){const targetClassList=originalEvent.target.classList,isImageClick=targetClassList.contains("pswp__img"),isBackgroundClick=targetClassList.contains("pswp__item")||targetClassList.contains("pswp__zoom-wrap");isImageClick?this._doClickOrTapAction("imageClick",point,originalEvent):isBackgroundClick&&this._doClickOrTapAction("bgClick",point,originalEvent)}tap(point,originalEvent){didTapOnMainContent(originalEvent)&&this._doClickOrTapAction("tap",point,originalEvent)}doubleTap(point,originalEvent){didTapOnMainContent(originalEvent)&&this._doClickOrTapAction("doubleTap",point,originalEvent)}_doClickOrTapAction(actionName,point,originalEvent){const{pswp}=this.gestures,{currSlide}=pswp,actionFullName=actionName+"Action",optionValue=pswp.options[actionFullName];if(!pswp.dispatch(actionFullName,{point,originalEvent}).defaultPrevented)if("function"!=typeof optionValue)switch(optionValue){case"close":case"next":pswp[optionValue]();break;case"zoom":currSlide.toggleZoom(point);break;case"zoom-or-close":currSlide.isZoomable()&&currSlide.zoomLevels.secondary!==currSlide.zoomLevels.initial?currSlide.toggleZoom(point):pswp.options.clickToCloseNonZoomable&&pswp.close();break;case"toggle-controls":this.gestures.pswp.element.classList.toggle("pswp--ui-visible")}else optionValue.call(pswp,point,originalEvent)}}class Gestures{constructor(pswp){this.pswp=pswp,this.dragAxis=void 0,this.p1={},this.p2={},this.prevP1={},this.prevP2={},this.startP1={},this.startP2={},this.velocity={},this._lastStartP1={},this._intervalP1={},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this.supportsTouch||(pswp.options.allowPanToNext=!1),this.drag=new DragHandler(this),this.zoomLevels=new ZoomHandler(this),this.tapHandler=new TapHandler(this),pswp.on("bindEvents",(()=>{pswp.events.add(pswp.scrollWrap,"click",(e=>this._onClick(e))),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),pswp.scrollWrap.ontouchmove=()=>{},pswp.scrollWrap.ontouchend=()=>{}):this._bindEvents("mouse","down","up")}))}_bindEvents(pref,down,up,cancel){const{pswp}=this,{events}=pswp,cancelEvent=cancel?pref+cancel:"";events.add(pswp.scrollWrap,pref+down,this.onPointerDown.bind(this)),events.add(window,pref+"move",this.onPointerMove.bind(this)),events.add(window,pref+up,this.onPointerUp.bind(this)),cancelEvent&&events.add(pswp.scrollWrap,cancelEvent,this.onPointerUp.bind(this))}onPointerDown(e){let isMousePointer;if("mousedown"!==e.type&&"mouse"!==e.pointerType||(isMousePointer=!0),isMousePointer&&e.button>0)return;const{pswp}=this;pswp.opener.isOpen?pswp.dispatch("pointerDown",{originalEvent:e}).defaultPrevented||(isMousePointer&&(pswp.mouseDetected(),this._preventPointerEventBehaviour(e)),pswp.animations.stopAll(),this._updatePoints(e,"down"),this.pointerDown=!0,1===this._numActivePoints&&(this.dragAxis=null,equalizePoints(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1):e.preventDefault()}onPointerMove(e){e.preventDefault(),this._numActivePoints&&(this._updatePoints(e,"move"),this.pswp.dispatch("pointerMove",{originalEvent:e}).defaultPrevented||(1!==this._numActivePoints||this.isDragging?this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop()):(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,equalizePoints(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop()))))}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(e){this._numActivePoints&&(this._updatePoints(e,"up"),this.pswp.dispatch("pointerUp",{originalEvent:e}).defaultPrevented||(0===this._numActivePoints&&(this.pointerDown=!1,this._rafStopLoop(),this.isDragging?this._finishDrag():this.isZooming||this.isMultitouch||this._finishTap(e)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this._numActivePoints&&(this.dragAxis=null,this._updateStartPoints()))))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?pointsEqual(this.p1,this.prevP1)||this.drag.change():pointsEqual(this.p1,this.prevP1)&&pointsEqual(this.p2,this.prevP2)||this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(force){const time=Date.now(),duration=time-this._intervalTime;duration<50&&!force||(this.velocity.x=this._getVelocity("x",duration),this.velocity.y=this._getVelocity("y",duration),this._intervalTime=time,equalizePoints(this._intervalP1,this.p1),this._velocityCalculated=!0)}_finishTap(e){const{mainScroll}=this.pswp;if(mainScroll.isShifted())return void mainScroll.moveIndexBy(0,!0);if(e.type.indexOf("cancel")>0)return;if("mouseup"===e.type||"mouse"===e.pointerType)return void this.tapHandler.click(this.startP1,e);const tapDelay=this.pswp.options.doubleTapAction?300:0;this._tapTimer?(this._clearTapTimer(),getDistanceBetween(this._lastStartP1,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,e)):(equalizePoints(this._lastStartP1,this.startP1),this._tapTimer=setTimeout((()=>{this.tapHandler.tap(this.startP1,e),this._clearTapTimer()}),tapDelay))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(axis,duration){const displacement=this.p1[axis]-this._intervalP1[axis];return Math.abs(displacement)>1&&duration>5?displacement/duration:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(e){return e.preventDefault(),!0}_updatePoints(e,pointerType){if(this._pointerEventEnabled){const pointerEvent=e,pointerIndex=this._ongoingPointers.findIndex((ongoingPoiner=>ongoingPoiner.id===pointerEvent.pointerId));"up"===pointerType&&pointerIndex>-1?this._ongoingPointers.splice(pointerIndex,1):"down"===pointerType&&-1===pointerIndex?this._ongoingPointers.push(this._convertEventPosToPoint(pointerEvent,{})):pointerIndex>-1&&this._convertEventPosToPoint(pointerEvent,this._ongoingPointers[pointerIndex]),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&equalizePoints(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&equalizePoints(this.p2,this._ongoingPointers[1])}else{const touchEvent=e;this._numActivePoints=0,touchEvent.type.indexOf("touch")>-1?touchEvent.touches&&touchEvent.touches.length>0&&(this._convertEventPosToPoint(touchEvent.touches[0],this.p1),this._numActivePoints++,touchEvent.touches.length>1&&(this._convertEventPosToPoint(touchEvent.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(e,this.p1),"up"===pointerType?this._numActivePoints=0:this._numActivePoints++)}}_updatePrevPoints(){equalizePoints(this.prevP1,this.p1),equalizePoints(this.prevP2,this.p2)}_updateStartPoints(){equalizePoints(this.startP1,this.p1),equalizePoints(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const diff=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==diff){const axisToCheck=diff>0?"x":"y";Math.abs(this.p1[axisToCheck]-this.startP1[axisToCheck])>=10&&(this.dragAxis=axisToCheck)}}}_convertEventPosToPoint(e,p){return p.x=e.pageX-this.pswp.offset.x,p.y=e.pageY-this.pswp.offset.y,"pointerId"in e?p.id=e.pointerId:void 0!==e.identifier&&(p.id=e.identifier),p}_onClick(e){this.pswp.mainScroll.isShifted()&&(e.preventDefault(),e.stopPropagation())}}class MainScroll{constructor(pswp){this.pswp=pswp,this.x=0,this.slideWidth=void 0,this.itemHolders=void 0,this.resetPosition()}resize(resizeSlides){const{pswp}=this,newSlideWidth=Math.round(pswp.viewportSize.x+pswp.viewportSize.x*pswp.options.spacing),slideWidthChanged=newSlideWidth!==this.slideWidth;slideWidthChanged&&(this.slideWidth=newSlideWidth,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach(((itemHolder,index)=>{slideWidthChanged&&setTransform(itemHolder.el,(index+this._containerShiftIndex)*this.slideWidth),resizeSlides&&itemHolder.slide&&itemHolder.slide.resize()}))}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let i=0;i<3;i++){const el=createElement("pswp__item",!1,this.pswp.container);el.style.display=1===i?"block":"none",this.itemHolders.push({el})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(diff,animate,velocityX){const{pswp}=this;let newIndex=pswp.potentialIndex+diff;const numSlides=pswp.getNumItems();if(pswp.canLoop()){newIndex=pswp.getLoopedIndex(newIndex);const distance=(diff+numSlides)%numSlides;diff=distance<=numSlides/2?distance:distance-numSlides}else newIndex<0?newIndex=0:newIndex>=numSlides&&(newIndex=numSlides-1),diff=newIndex-pswp.potentialIndex;pswp.potentialIndex=newIndex,this._currPositionIndex-=diff,pswp.animations.stopMainScroll();const destinationX=this.getCurrSlideX();if(animate){pswp.animations.startSpring({isMainScroll:!0,start:this.x,end:destinationX,velocity:velocityX||0,naturalFrequency:30,dampingRatio:1,onUpdate:x=>{this.moveTo(x)},onComplete:()=>{this.updateCurrItem(),pswp.appendHeavy()}});let currDiff=pswp.potentialIndex-pswp.currIndex;if(pswp.canLoop()){const currDistance=(currDiff+numSlides)%numSlides;currDiff=currDistance<=numSlides/2?currDistance:currDistance-numSlides}Math.abs(currDiff)>1&&this.updateCurrItem()}else this.moveTo(destinationX),this.updateCurrItem();if(diff)return!0}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){const{pswp}=this,positionDifference=this._prevPositionIndex-this._currPositionIndex;if(!positionDifference)return;this._prevPositionIndex=this._currPositionIndex,pswp.currIndex=pswp.potentialIndex;let tempHolder,diffAbs=Math.abs(positionDifference);diffAbs>=3&&(this._containerShiftIndex+=positionDifference+(positionDifference>0?-3:3),diffAbs=3);for(let i=0;i<diffAbs;i++)positionDifference>0?(tempHolder=this.itemHolders.shift(),this.itemHolders[2]=tempHolder,this._containerShiftIndex++,setTransform(tempHolder.el,(this._containerShiftIndex+2)*this.slideWidth),pswp.setContent(tempHolder,pswp.currIndex-diffAbs+i+2)):(tempHolder=this.itemHolders.pop(),this.itemHolders.unshift(tempHolder),this._containerShiftIndex--,setTransform(tempHolder.el,this._containerShiftIndex*this.slideWidth),pswp.setContent(tempHolder,pswp.currIndex+diffAbs-i-2));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),pswp.animations.stopAllPan(),this.itemHolders.forEach(((itemHolder,i)=>{itemHolder.slide&&itemHolder.slide.setIsActive(1===i)})),pswp.currSlide=this.itemHolders[1].slide,pswp.contentLoader.updateLazy(positionDifference),pswp.currSlide.applyCurrentZoomPan(),pswp.dispatch("change")}moveTo(x,dragging){let newSlideIndexOffset,delta;!this.pswp.canLoop()&&dragging&&(newSlideIndexOffset=(this.slideWidth*this._currPositionIndex-x)/this.slideWidth,newSlideIndexOffset+=this.pswp.currIndex,delta=Math.round(x-this.x),(newSlideIndexOffset<0&&delta>0||newSlideIndexOffset>=this.pswp.getNumItems()-1&&delta<0)&&(x=this.x+.35*delta)),this.x=x,setTransform(this.pswp.container,x),this.pswp.dispatch("moveMainScroll",{x,dragging})}}class Keyboard{constructor(pswp){this.pswp=pswp,pswp.on("bindEvents",(()=>{pswp.options.initialPointerPos||this._focusRoot(),pswp.events.add(document,"focusin",this._onFocusIn.bind(this)),pswp.events.add(document,"keydown",this._onKeyDown.bind(this))}));const lastActiveElement=document.activeElement;pswp.on("destroy",(()=>{pswp.options.returnFocus&&lastActiveElement&&this._wasFocused&&lastActiveElement.focus()}))}_focusRoot(){this._wasFocused||(this.pswp.element.focus(),this._wasFocused=!0)}_onKeyDown(e){const{pswp}=this;if(pswp.dispatch("keydown",{originalEvent:e}).defaultPrevented)return;if(function(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}(e))return;let keydownAction,axis,isForward;switch(e.keyCode){case 27:pswp.options.escKey&&(keydownAction="close");break;case 90:keydownAction="toggleZoom";break;case 37:axis="x";break;case 38:axis="y";break;case 39:axis="x",isForward=!0;break;case 40:isForward=!0,axis="y";break;case 9:this._focusRoot()}if(axis){e.preventDefault();const{currSlide}=pswp;pswp.options.arrowKeys&&"x"===axis&&pswp.getNumItems()>1?keydownAction=isForward?"next":"prev":currSlide&&currSlide.currZoomLevel>currSlide.zoomLevels.fit&&(currSlide.pan[axis]+=isForward?-80:80,currSlide.panTo(currSlide.pan.x,currSlide.pan.y))}keydownAction&&(e.preventDefault(),pswp[keydownAction]())}_onFocusIn(e){const{template}=this.pswp;document===e.target||template===e.target||template.contains(e.target)||template.focus()}}class CSSAnimation{constructor(props){this.props=props;const{target,onComplete,transform,onFinish}=props;let{duration,easing}=props;this.onFinish=onFinish;const prop=transform?"transform":"opacity",propValue=props[prop];this._target=target,this._onComplete=onComplete,duration=duration||333,easing=easing||"cubic-bezier(.4,0,.22,1)",this._onTransitionEnd=this._onTransitionEnd.bind(this),this._firstFrameTimeout=setTimeout((()=>{setTransitionStyle(target,prop,duration,easing),this._firstFrameTimeout=setTimeout((()=>{target.addEventListener("transitionend",this._onTransitionEnd,!1),target.addEventListener("transitioncancel",this._onTransitionEnd,!1),target.style[prop]=propValue}),30)}),0)}_onTransitionEnd(e){e.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._firstFrameTimeout&&clearTimeout(this._firstFrameTimeout),setTransitionStyle(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}class SpringEaser{constructor(initialVelocity,dampingRatio,naturalFrequency){this.velocity=1e3*initialVelocity,this._dampingRatio=dampingRatio||.75,this._naturalFrequency=naturalFrequency||12,this._dampingRatio<1&&(this._dampedFrequency=this._naturalFrequency*Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(deltaPosition,deltaTime){let coeff,displacement=0;deltaTime/=1e3;const naturalDumpingPow=Math.E**(-this._dampingRatio*this._naturalFrequency*deltaTime);if(1===this._dampingRatio)coeff=this.velocity+this._naturalFrequency*deltaPosition,displacement=(deltaPosition+coeff*deltaTime)*naturalDumpingPow,this.velocity=displacement*-this._naturalFrequency+coeff*naturalDumpingPow;else if(this._dampingRatio<1){coeff=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*deltaPosition+this.velocity);const dumpedFCos=Math.cos(this._dampedFrequency*deltaTime),dumpedFSin=Math.sin(this._dampedFrequency*deltaTime);displacement=naturalDumpingPow*(deltaPosition*dumpedFCos+coeff*dumpedFSin),this.velocity=displacement*-this._naturalFrequency*this._dampingRatio+naturalDumpingPow*(-this._dampedFrequency*deltaPosition*dumpedFSin+this._dampedFrequency*coeff*dumpedFCos)}return displacement}}class SpringAnimation{constructor(props){this.props=props;const{start,end,velocity,onUpdate,onComplete,onFinish,dampingRatio,naturalFrequency}=props;this.onFinish=onFinish;const easer=new SpringEaser(velocity,dampingRatio,naturalFrequency);let prevTime=Date.now(),deltaPosition=start-end;const animationLoop=()=>{this._raf&&(deltaPosition=easer.easeFrame(deltaPosition,Date.now()-prevTime),Math.abs(deltaPosition)<1&&Math.abs(easer.velocity)<50?(onUpdate(end),onComplete&&onComplete(),this.onFinish()):(prevTime=Date.now(),onUpdate(deltaPosition+end),this._raf=requestAnimationFrame(animationLoop)))};this._raf=requestAnimationFrame(animationLoop)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=null}}class Animations{constructor(){this.activeAnimations=[]}startSpring(props){this._start(props,!0)}startTransition(props){this._start(props)}_start(props,isSpring){let animation;return animation=isSpring?new SpringAnimation(props):new CSSAnimation(props),this.activeAnimations.push(animation),animation.onFinish=()=>this.stop(animation),animation}stop(animation){animation.destroy();const index=this.activeAnimations.indexOf(animation);index>-1&&this.activeAnimations.splice(index,1)}stopAll(){this.activeAnimations.forEach((animation=>{animation.destroy()})),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((animation=>!animation.props.isPan||(animation.destroy(),!1)))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((animation=>!animation.props.isMainScroll||(animation.destroy(),!1)))}isPanRunning(){return this.activeAnimations.some((animation=>animation.props.isPan))}}class ScrollWheel{constructor(pswp){this.pswp=pswp,pswp.events.add(pswp.element,"wheel",this._onWheel.bind(this))}_onWheel(e){e.preventDefault();const{currSlide}=this.pswp;let{deltaX,deltaY}=e;if(currSlide&&!this.pswp.dispatch("wheel",{originalEvent:e}).defaultPrevented)if(e.ctrlKey||this.pswp.options.wheelToZoom){if(currSlide.isZoomable()){let zoomFactor=-deltaY;1===e.deltaMode?zoomFactor*=.05:zoomFactor*=e.deltaMode?1:.002,zoomFactor=2**zoomFactor;const destZoomLevel=currSlide.currZoomLevel*zoomFactor;currSlide.zoomTo(destZoomLevel,{x:e.clientX,y:e.clientY})}}else currSlide.isPannable()&&(1===e.deltaMode&&(deltaX*=18,deltaY*=18),currSlide.panTo(currSlide.pan.x-deltaX,currSlide.pan.y-deltaY))}}class UIElement{constructor(pswp,data){const name=data.name||data.className;let elementHTML=data.html;if(!1===pswp.options[name])return;"string"==typeof pswp.options[name+"SVG"]&&(elementHTML=pswp.options[name+"SVG"]),pswp.dispatch("uiElementCreate",{data});let element,className="";data.isButton?(className+="pswp__button ",className+=data.className||"pswp__button--"+data.name):className+=data.className||"pswp__"+data.name;let tagName=data.isButton?data.tagName||"button":data.tagName||"div";if(tagName=tagName.toLowerCase(),element=createElement(className,tagName),data.isButton){element=createElement(className,tagName),"button"===tagName&&(element.type="button");let{title}=data;const{ariaLabel}=data;"string"==typeof pswp.options[name+"Title"]&&(title=pswp.options[name+"Title"]),title&&(element.title=title),(ariaLabel||title)&&element.setAttribute("aria-label",ariaLabel||title)}element.innerHTML=function(htmlData){if("string"==typeof htmlData)return htmlData;if(!htmlData||!htmlData.isCustomSVG)return"";const svgData=htmlData;let out='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return out=out.split("%d").join(svgData.size||32),svgData.outlineID&&(out+='<use class="pswp__icn-shadow" xlink:href="#'+svgData.outlineID+'"/>'),out+=svgData.inner,out+="</svg>",out}(elementHTML),data.onInit&&data.onInit(element,pswp),data.onClick&&(element.onclick=e=>{"string"==typeof data.onClick?pswp[data.onClick]():data.onClick(e,element,pswp)});const appendTo=data.appendTo||"bar";let container;"bar"===appendTo?(pswp.topBar||(pswp.topBar=createElement("pswp__top-bar pswp__hide-on-close","div",pswp.scrollWrap)),container=pswp.topBar):(element.classList.add("pswp__hide-on-close"),container="wrapper"===appendTo?pswp.scrollWrap:pswp.element),container.appendChild(pswp.applyFilters("uiElement",element,data))}}function initArrowButton(element,pswp,isNextButton){element.classList.add("pswp__button--arrow"),pswp.on("change",(()=>{pswp.options.loop||(element.disabled=isNextButton?!(pswp.currIndex<pswp.getNumItems()-1):!(pswp.currIndex>0))}))}const arrowPrev={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:initArrowButton},arrowNext={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(el,pswp)=>{initArrowButton(el,pswp,!0)}},closeButton={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},zoomButton={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},loadingIndicator={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(indicatorElement,pswp)=>{let isVisible,delayTimeout;const setIndicatorVisibility=visible=>{var className,add;isVisible!==visible&&(isVisible=visible,className="active",add=visible,indicatorElement.classList[add?"add":"remove"]("pswp__preloader--"+className))},updatePreloaderVisibility=()=>{if(!pswp.currSlide.content.isLoading())return setIndicatorVisibility(!1),void(delayTimeout&&(clearTimeout(delayTimeout),delayTimeout=null));delayTimeout||(delayTimeout=setTimeout((()=>{setIndicatorVisibility(pswp.currSlide.content.isLoading()),delayTimeout=null}),pswp.options.preloaderDelay))};pswp.on("change",updatePreloaderVisibility),pswp.on("loadComplete",(e=>{pswp.currSlide===e.slide&&updatePreloaderVisibility()})),pswp.ui.updatePreloaderVisibility=updatePreloaderVisibility}},counterIndicator={name:"counter",order:5,onInit:(counterElement,pswp)=>{pswp.on("change",(()=>{counterElement.innerText=pswp.currIndex+1+pswp.options.indexIndicatorSep+pswp.getNumItems()}))}};function setZoomedIn(el,isZoomedIn){el.classList[isZoomedIn?"add":"remove"]("pswp--zoomed-in")}class UI{constructor(pswp){this.pswp=pswp,this.updatePreloaderVisibility=void 0,this._lastUpdatedZoomLevel=void 0}init(){const{pswp}=this;this.isRegistered=!1,this.uiElementsData=[closeButton,arrowPrev,arrowNext,zoomButton,loadingIndicator,counterIndicator],pswp.dispatch("uiRegister"),this.uiElementsData.sort(((a,b)=>(a.order||0)-(b.order||0))),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach((uiElementData=>{this.registerElement(uiElementData)})),pswp.on("change",(()=>{pswp.element.classList[1===pswp.getNumItems()?"add":"remove"]("pswp--one-slide")})),pswp.on("zoomPanUpdate",(()=>this._onZoomPanUpdate()))}registerElement(elementData){this.isRegistered?this.items.push(new UIElement(this.pswp,elementData)):this.uiElementsData.push(elementData)}_onZoomPanUpdate(){const{template,currSlide,options}=this.pswp;let{currZoomLevel}=currSlide;if(this.pswp.opener.isClosing)return;if(this.pswp.opener.isOpen||(currZoomLevel=currSlide.zoomLevels.initial),currZoomLevel===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=currZoomLevel;const currZoomLevelDiff=currSlide.zoomLevels.initial-currSlide.zoomLevels.secondary;if(Math.abs(currZoomLevelDiff)<.01||!currSlide.isZoomable())return setZoomedIn(template,!1),void template.classList.remove("pswp--zoom-allowed");template.classList.add("pswp--zoom-allowed");const secondaryIsHigher=currZoomLevelDiff<0;currZoomLevel===currSlide.zoomLevels.secondary?setZoomedIn(template,secondaryIsHigher):currZoomLevel>currSlide.zoomLevels.secondary?setZoomedIn(template,!0):setZoomedIn(template,!1),"zoom"!==options.imageClickAction&&"zoom-or-close"!==options.imageClickAction||template.classList.add("pswp--click-to-zoom")}}class PhotoSwipeEvent{constructor(type,details){this.type=type,details&&Object.assign(this,details)}preventDefault(){this.defaultPrevented=!0}}class Placeholder{constructor(imageSrc,container){this.element=createElement("pswp__img pswp__img--placeholder",imageSrc?"img":"",container),imageSrc&&(this.element.decoding="async",this.element.alt="",this.element.src=imageSrc,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hiden","true")}setDisplayedSize(width,height){this.element&&("IMG"===this.element.tagName?(setWidthHeight(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=toTransformString(0,0,width/250)):setWidthHeight(this.element,width,height))}destroy(){this.element.parentNode&&this.element.remove(),this.element=null}}class Content{constructor(itemData,instance,index){this.instance=instance,this.data=itemData,this.index=index,this.element=void 0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state=LOAD_STATE_IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=null)}),500)}load(isLazy,reload){if(!this.placeholder&&this.slide&&this.usePlaceholder()){const placeholderSrc=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new Placeholder(placeholderSrc,this.slide.container)}this.element&&!reload||this.instance.dispatch("contentLoad",{content:this,isLazy}).defaultPrevented||(this.isImageContent()?this.loadImage(isLazy):(this.element=createElement("pswp__content"),this.element.innerHTML=this.data.html||""),reload&&this.slide&&this.slide.updateContentSize(!0))}loadImage(isLazy){const imageElement=createElement("pswp__img","img");this.element=imageElement,this.instance.dispatch("contentLoadImage",{content:this,isLazy}).defaultPrevented||(this.data.srcset&&(imageElement.srcset=this.data.srcset),imageElement.src=this.data.src,imageElement.alt=this.data.alt||"",this.state=LOAD_STATE_LOADING,imageElement.complete?this.onLoaded():(imageElement.onload=()=>{this.onLoaded()},imageElement.onerror=()=>{this.onError()}))}setSlide(slide){this.slide=slide,this.hasSlide=!0,this.instance=slide.pswp}onLoaded(){this.state=LOAD_STATE_LOADED,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.slide.container.innerHTML="",this.append(),this.slide.updateContentSize(!0)))}onError(){this.state=LOAD_STATE_ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===LOAD_STATE_LOADING,this)}isError(){return this.state===LOAD_STATE_ERROR}isImageContent(){return"image"===this.type}setDisplayedSize(width,height){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(width,height),!this.instance.dispatch("contentResize",{content:this,width,height}).defaultPrevented&&(setWidthHeight(this.element,width,height),this.isImageContent()&&!this.isError()))){const image=this.element;image.srcset&&(!image.dataset.largestUsedSize||width>parseInt(image.dataset.largestUsedSize,10))&&(image.sizes=width+"px",image.dataset.largestUsedSize=String(width)),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width,height,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==LOAD_STATE_ERROR,this)}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}displayError(){if(this.slide){let errorMsgEl=createElement("pswp__error-msg");errorMsgEl.innerText=this.instance.options.errorMsg,errorMsgEl=this.instance.applyFilters("contentErrorElement",errorMsgEl,this),this.element=createElement("pswp__content pswp__error-msg-container"),this.element.appendChild(errorMsgEl),this.slide.container.innerHTML="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){this.isAttached=!0,this.state!==LOAD_STATE_ERROR?this.instance.dispatch("contentAppend",{content:this}).defaultPrevented||(this.isImageContent()?this.slide&&!this.slide.isActive&&"decode"in this.element?(this.isDecoding=!0,requestAnimationFrame((()=>{this.element&&"IMG"===this.element.tagName&&this.element.decode().then((()=>{this.isDecoding=!1,requestAnimationFrame((()=>{this.appendImage()}))})).catch((()=>{this.isDecoding=!1}))}))):(!this.placeholder||this.state!==LOAD_STATE_LOADED&&this.state!==LOAD_STATE_ERROR||this.removePlaceholder(),this.appendImage()):this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)):this.displayError()}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding?this.appendImage():this.isError()&&this.load(!1,!0))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this})}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||this.element&&this.element.parentNode&&this.element.remove()}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||this.slide&&this.element&&!this.element.parentNode&&(this.slide.container.appendChild(this.element),!this.placeholder||this.state!==LOAD_STATE_LOADED&&this.state!==LOAD_STATE_ERROR||this.removePlaceholder()))}}class Opener{constructor(pswp){this.pswp=pswp,this.isClosed=!0,this._prepareOpen=this._prepareOpen.bind(this),this._thumbBounds=void 0,pswp.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return!1;const slide=this.pswp.currSlide;return this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,slide&&slide.currZoomLevel*slide.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps(),setTimeout((()=>{this._start()}),this._croppedZoom?30:0),!0}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const slide=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,slide&&slide.zoomLevels.initial*slide.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps()}}_applyStartProps(){const{pswp}=this,slide=this.pswp.currSlide,{options}=pswp;if("fade"===options.showHideAnimationType?(options.showHideOpacity=!0,this._thumbBounds=!1):"none"===options.showHideAnimationType?(options.showHideOpacity=!1,this._duration=0,this._thumbBounds=!1):this.isOpening&&pswp._initialThumbBounds?this._thumbBounds=pswp._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=slide.getPlaceholderElement(),pswp.animations.stopAll(),this._useAnimation=this._duration>50,this._animateZoom=Boolean(this._thumbBounds)&&slide.content&&slide.content.usePlaceholder()&&(!this.isClosing||!pswp.mainScroll.isShifted()),this._animateZoom?this._animateRootOpacity=options.showHideOpacity:(this._animateRootOpacity=!0,this.isOpening&&(slide.zoomAndPanToInitial(),slide.applyCurrentZoomPan())),this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>.003,this._opacityElement=this._animateRootOpacity?pswp.element:pswp.bg,!this._useAnimation)return this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,void(this.isOpening&&(pswp.element.style.opacity=String(.003),pswp.applyBgOpacity(1)));this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect?(this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=this.pswp.currSlide.holderElement,pswp.container.style.overflow="hidden",pswp.container.style.width=pswp.viewportSize.x+"px"):this._croppedZoom=!1,this.isOpening?(this._animateRootOpacity?(pswp.element.style.opacity=String(.003),pswp.applyBgOpacity(1)):(this._animateBgOpacity&&(pswp.bg.style.opacity=String(.003)),pswp.element.style.opacity="1"),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(.003)))):this.isClosing&&(pswp.mainScroll.itemHolders[0].el.style.display="none",pswp.mainScroll.itemHolders[2].el.style.display="none",this._croppedZoom&&0!==pswp.mainScroll.x&&(pswp.mainScroll.resetPosition(),pswp.mainScroll.resize()))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&"IMG"===this._placeholder.tagName?new Promise((resolve=>{let decoded=!1,isDelaying=!0;var img;(img=this._placeholder,"decode"in img?img.decode():img.complete?Promise.resolve(img):new Promise(((resolve,reject)=>{img.onload=()=>resolve(img),img.onerror=reject}))).finally((()=>{decoded=!0,isDelaying||resolve()})),setTimeout((()=>{isDelaying=!1,decoded&&resolve()}),50),setTimeout(resolve,250)})).finally((()=>this._initiate())):this._initiate()}_initiate(){this.pswp.element.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),this.pswp.element.classList[this.isOpening?"add":"remove"]("pswp--ui-visible"),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity="1"),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp}=this;this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,pswp.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),pswp.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed?pswp.destroy():this.isOpen&&(this._animateZoom&&(pswp.container.style.overflow="visible",pswp.container.style.width="100%"),pswp.currSlide.applyCurrentZoomPan())}_animateToOpenState(){const{pswp}=this;this._animateZoom&&(this._croppedZoom&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),pswp.currSlide.zoomAndPanToInitial(),this._animateTo(pswp.currSlide.container,"transform",pswp.currSlide.getCurrentTransform())),this._animateBgOpacity&&this._animateTo(pswp.bg,"opacity",String(pswp.options.bgOpacity)),this._animateRootOpacity&&this._animateTo(pswp.element,"opacity","1")}_animateToClosedState(){const{pswp}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&pswp.bgOpacity>.01&&this._animateTo(pswp.bg,"opacity","0"),this._animateRootOpacity&&this._animateTo(pswp.element,"opacity","0")}_setClosedStateZoomPan(animate){if(!this._thumbBounds)return;const{pswp}=this,{innerRect}=this._thumbBounds,{currSlide,viewportSize}=pswp;if(this._croppedZoom){const containerOnePanX=-viewportSize.x+(this._thumbBounds.x-innerRect.x)+innerRect.w,containerOnePanY=-viewportSize.y+(this._thumbBounds.y-innerRect.y)+innerRect.h,containerTwoPanX=viewportSize.x-innerRect.w,containerTwoPanY=viewportSize.y-innerRect.h;animate?(this._animateTo(this._cropContainer1,"transform",toTransformString(containerOnePanX,containerOnePanY)),this._animateTo(this._cropContainer2,"transform",toTransformString(containerTwoPanX,containerTwoPanY))):(setTransform(this._cropContainer1,containerOnePanX,containerOnePanY),setTransform(this._cropContainer2,containerTwoPanX,containerTwoPanY))}equalizePoints(currSlide.pan,innerRect||this._thumbBounds),currSlide.currZoomLevel=this._thumbBounds.w/currSlide.width,animate?this._animateTo(currSlide.container,"transform",currSlide.getCurrentTransform()):currSlide.applyCurrentZoomPan()}_animateTo(target,prop,propValue){if(!this._duration)return void(target.style[prop]=propValue);const{animations}=this.pswp,animProps={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{animations.activeAnimations.length||this._onAnimationComplete()},target};animProps[prop]=propValue,animations.startTransition(animProps)}}function lazyLoadSlide(index,instance){const itemData=instance.getItemData(index);if(!instance.dispatch("lazyLoadSlide",{index,itemData}).defaultPrevented)return function(itemData,instance,index){const content=instance.createContentFromData(itemData,index);if(!content||!content.lazyLoad)return;const{options}=instance,panAreaSize=getPanAreaSize(options,instance.viewportSize||getViewportSize(options,instance),itemData,index),zoomLevel=new ZoomLevel(options,itemData,-1);return zoomLevel.update(content.width,content.height,panAreaSize),content.lazyLoad(),content.setDisplayedSize(Math.ceil(content.width*zoomLevel.initial),Math.ceil(content.height*zoomLevel.initial)),content}(itemData,instance,index)}class ContentLoader{constructor(pswp){this.pswp=pswp,this.limit=Math.max(pswp.options.preload[0]+pswp.options.preload[1]+1,5),this._cachedItems=[]}updateLazy(diff){const{pswp}=this;if(pswp.dispatch("lazyLoad").defaultPrevented)return;const{preload}=pswp.options,isForward=void 0===diff||diff>=0;let i;for(i=0;i<=preload[1];i++)this.loadSlideByIndex(pswp.currIndex+(isForward?i:-i));for(i=1;i<=preload[0];i++)this.loadSlideByIndex(pswp.currIndex+(isForward?-i:i))}loadSlideByIndex(index){index=this.pswp.getLoopedIndex(index);let content=this.getContentByIndex(index);content||(content=lazyLoadSlide(index,this.pswp),content&&this.addToCache(content))}getContentBySlide(slide){let content=this.getContentByIndex(slide.index);return content||(content=this.pswp.createContentFromData(slide.data,slide.index),content&&this.addToCache(content)),content&&content.setSlide(slide),content}addToCache(content){if(this.removeByIndex(content.index),this._cachedItems.push(content),this._cachedItems.length>this.limit){const indexToRemove=this._cachedItems.findIndex((item=>!item.isAttached&&!item.hasSlide));if(-1!==indexToRemove){this._cachedItems.splice(indexToRemove,1)[0].destroy()}}}removeByIndex(index){const indexToRemove=this._cachedItems.findIndex((item=>item.index===index));-1!==indexToRemove&&this._cachedItems.splice(indexToRemove,1)}getContentByIndex(index){return this._cachedItems.find((content=>content.index===index))}destroy(){this._cachedItems.forEach((content=>content.destroy())),this._cachedItems=null}}const defaultOptions={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class PhotoSwipe extends class extends class{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(name,fn,priority=100){this._filters[name]||(this._filters[name]=[]),this._filters[name].push({fn,priority}),this._filters[name].sort(((f1,f2)=>f1.priority-f2.priority)),this.pswp&&this.pswp.addFilter(name,fn,priority)}removeFilter(name,fn){this._filters[name]&&(this._filters[name]=this._filters[name].filter((filter=>filter.fn!==fn))),this.pswp&&this.pswp.removeFilter(name,fn)}applyFilters(name,...args){return this._filters[name]&&this._filters[name].forEach((filter=>{args[0]=filter.fn.apply(this,args)})),args[0]}on(name,fn){this._listeners[name]||(this._listeners[name]=[]),this._listeners[name].push(fn),this.pswp&&this.pswp.on(name,fn)}off(name,fn){this._listeners[name]&&(this._listeners[name]=this._listeners[name].filter((listener=>fn!==listener))),this.pswp&&this.pswp.off(name,fn)}dispatch(name,details){if(this.pswp)return this.pswp.dispatch(name,details);const event=new PhotoSwipeEvent(name,details);return this._listeners?(this._listeners[name]&&this._listeners[name].forEach((listener=>{listener.call(this,event)})),event):event}}{getNumItems(){let numItems;const{dataSource}=this.options;dataSource?"length"in dataSource?numItems=dataSource.length:"gallery"in dataSource&&(dataSource.items||(dataSource.items=this._getGalleryDOMElements(dataSource.gallery)),dataSource.items&&(numItems=dataSource.items.length)):numItems=0;const event=this.dispatch("numItems",{dataSource,numItems});return this.applyFilters("numItems",event.numItems,dataSource)}createContentFromData(slideData,index){return new Content(slideData,this,index)}getItemData(index){const{dataSource}=this.options;let dataSourceItem;Array.isArray(dataSource)?dataSourceItem=dataSource[index]:dataSource&&dataSource.gallery&&(dataSource.items||(dataSource.items=this._getGalleryDOMElements(dataSource.gallery)),dataSourceItem=dataSource.items[index]);let itemData=dataSourceItem;itemData instanceof Element&&(itemData=this._domElementToItemData(itemData));const event=this.dispatch("itemData",{itemData:itemData||{},index});return this.applyFilters("itemData",event.itemData,index)}_getGalleryDOMElements(galleryElement){return this.options.children||this.options.childSelector?function(option,legacySelector,parent=document){let elements=[];if(option instanceof Element)elements=[option];else if(option instanceof NodeList||Array.isArray(option))elements=Array.from(option);else{const selector="string"==typeof option?option:legacySelector;selector&&(elements=Array.from(parent.querySelectorAll(selector)))}return elements}(this.options.children,this.options.childSelector,galleryElement)||[]:[galleryElement]}_domElementToItemData(element){const itemData={element},linkEl="A"===element.tagName?element:element.querySelector("a");if(linkEl){itemData.src=linkEl.dataset.pswpSrc||linkEl.href,linkEl.dataset.pswpSrcset&&(itemData.srcset=linkEl.dataset.pswpSrcset),itemData.width=parseInt(linkEl.dataset.pswpWidth,10),itemData.height=parseInt(linkEl.dataset.pswpHeight,10),itemData.w=itemData.width,itemData.h=itemData.height,linkEl.dataset.pswpType&&(itemData.type=linkEl.dataset.pswpType);const thumbnailEl=element.querySelector("img");thumbnailEl&&(itemData.msrc=thumbnailEl.currentSrc||thumbnailEl.src,itemData.alt=thumbnailEl.getAttribute("alt")),(linkEl.dataset.pswpCropped||linkEl.dataset.cropped)&&(itemData.thumbCropped=!0)}return this.applyFilters("domItemData",itemData,element,linkEl)}}{constructor(options){super(),this._prepareOptions(options),this.offset={},this._prevViewportSize={},this.viewportSize={},this.bgOpacity=1,this.topBar=void 0,this.events=new DOMEvents,this.animations=new Animations,this.mainScroll=new MainScroll(this),this.gestures=new Gestures(this),this.opener=new Opener(this),this.keyboard=new Keyboard(this),this.contentLoader=new ContentLoader(this)}init(){if(this.isOpen||this.isDestroying)return;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let rootClasses="pswp--open";return this.gestures.supportsTouch&&(rootClasses+=" pswp--touch"),this.options.mainClass&&(rootClasses+=" "+this.options.mainClass),this.element.className+=" "+rootClasses,this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new ScrollWheel(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",(()=>{this.setContent(this.mainScroll.itemHolders[0],this.currIndex-1),this.setContent(this.mainScroll.itemHolders[2],this.currIndex+1),this.mainScroll.itemHolders[0].el.style.display="block",this.mainScroll.itemHolders[2].el.style.display="block",this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")})),this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(index){const numSlides=this.getNumItems();return this.options.loop&&(index>numSlides-1&&(index-=numSlides),index<0&&(index+=numSlides)),index=clamp(index,0,numSlides-1)}appendHeavy(){this.mainScroll.itemHolders.forEach((itemHolder=>{itemHolder.slide&&itemHolder.slide.appendHeavy()}))}goTo(index){this.mainScroll.moveIndexBy(this.getLoopedIndex(index)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...args){this.currSlide.zoomTo(...args)}toggleZoom(){this.currSlide.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this.listeners=null,this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null,this.element.remove(),this.mainScroll.itemHolders.forEach((itemHolder=>{itemHolder.slide&&itemHolder.slide.destroy()})),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(slideIndex){this.contentLoader.removeByIndex(slideIndex),this.mainScroll.itemHolders.forEach(((itemHolder,i)=>{let potentialHolderIndex=this.currSlide.index-1+i;this.canLoop()&&(potentialHolderIndex=this.getLoopedIndex(potentialHolderIndex)),potentialHolderIndex===slideIndex&&(this.setContent(itemHolder,slideIndex,!0),1===i&&(this.currSlide=itemHolder.slide,itemHolder.slide.setIsActive(!0)))})),this.dispatch("change")}setContent(holder,index,force){if(this.canLoop()&&(index=this.getLoopedIndex(index)),holder.slide){if(holder.slide.index===index&&!force)return;holder.slide.destroy(),holder.slide=null}if(!this.canLoop()&&(index<0||index>=this.getNumItems()))return;const itemData=this.getItemData(index);holder.slide=new Slide(itemData,index,this),index===this.currIndex&&(this.currSlide=holder.slide),holder.slide.append(holder.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(force){if(this.isDestroying)return;const newViewportSize=getViewportSize(this.options,this);!force&&pointsEqual(newViewportSize,this._prevViewportSize)||(equalizePoints(this._prevViewportSize,newViewportSize),this.dispatch("beforeResize"),equalizePoints(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(opacity){this.bgOpacity=Math.max(opacity,0),this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}mouseDetected(){this.hasMouse||(this.hasMouse=!0,this.element.classList.add("pswp--has_mouse"))}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout((()=>{this.updateSize()}),500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(x,y){this.offset.x=x,this.offset.y=y,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=createElement("pswp"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=createElement("pswp__bg",!1,this.element),this.scrollWrap=createElement("pswp__scroll-wrap",!1,this.element),this.container=createElement("pswp__container",!1,this.scrollWrap),this.mainScroll.appendHolders(),this.ui=new UI(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return function(index,itemData,instance){const event=instance.dispatch("thumbBounds",{index,itemData,instance});if(event.thumbBounds)return event.thumbBounds;const{element}=itemData;let thumbBounds,thumbnail;if(element&&!1!==instance.options.thumbSelector){const thumbSelector=instance.options.thumbSelector||"img";thumbnail=element.matches(thumbSelector)?element:element.querySelector(thumbSelector)}return thumbnail=instance.applyFilters("thumbEl",thumbnail,itemData,index),thumbnail&&(thumbBounds=itemData.thumbCropped?function(el,imageWidth,imageHeight){const thumbAreaRect=el.getBoundingClientRect(),hRatio=thumbAreaRect.width/imageWidth,vRatio=thumbAreaRect.height/imageHeight,fillZoomLevel=hRatio>vRatio?hRatio:vRatio,offsetX=(thumbAreaRect.width-imageWidth*fillZoomLevel)/2,offsetY=(thumbAreaRect.height-imageHeight*fillZoomLevel)/2,bounds={x:thumbAreaRect.left+offsetX,y:thumbAreaRect.top+offsetY,w:imageWidth*fillZoomLevel};return bounds.innerRect={w:thumbAreaRect.width,h:thumbAreaRect.height,x:offsetX,y:offsetY},bounds}(thumbnail,itemData.width||itemData.w,itemData.height||itemData.h):function(el){const thumbAreaRect=el.getBoundingClientRect();return{x:thumbAreaRect.left,y:thumbAreaRect.top,w:thumbAreaRect.width}}(thumbnail)),instance.applyFilters("thumbBounds",thumbBounds,itemData,index)}(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(options){window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(options.showHideAnimationType="none",options.zoomAnimationDuration=0),this.options={...defaultOptions,...options}}}}}]);