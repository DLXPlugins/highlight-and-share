{"version":3,"file":"highlight-and-share.js","mappings":"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","sources":["webpack://highlight-and-share/./src/frontendjs/highlight-and-share.js"],"sourcesContent":["( function() {\n\t'use strict';\n\n\t// Get localized var.\n\tconst HAS = highlight_and_share;\n\t/**\n\t * Determine if an element is visible or not.\n\t *\n\t * @param {Element} element The element to check if visible or not.\n\t * @return {boolean} true if visible, false if not.\n\t */\n\tconst isVisible = ( element ) => {\n\t\tconst style = window.getComputedStyle( element );\n\t\treturn style.display !== 'none' && style.visibility !== 'hidden' && style.opacity !== '0';\n\t};\n\n\t/**\n\t * Remove any visible HAS containers.\n\t */\n\tconst hasRemoveVisibleElements = () => {\n\t\tconst hasContainers = document.querySelectorAll( '.highlight-and-share-wrapper' );\n\t\tif ( null !== hasContainers ) {\n\t\t\t// Remove visible containers from dom.\n\t\t\thasContainers.forEach( ( container ) => {\n\t\t\t\tif ( isVisible( container ) ) {\n\t\t\t\t\tcontainer.remove();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t};\n\n\t/**\n\t * Display the Highlight and Share Interface.\n\t *\n\t * @param {string} text     Text that is selected or to be shared.\n\t * @param {string} title    The title of the post/page.\n\t * @param {string} href     The URL of the post/page.\n\t * @param {string} hashtags Hashtags present on the post/page.\n\t * @param {event}  event    The original event.\n\t */\n\tconst hasDisplay = ( text, title, href, hashtags, event ) => {\n\n\t\t// Do not show the interface if nothing is enabled.\n\t\tif ( false === highlight_and_share.show_twitter && false === highlight_and_share.show_facebook && false === highlight_and_share.show_linkedin && false === highlight_and_share.show_ok && false === highlight_and_share.show_vk && false === highlight_and_share.show_pinterest && false === highlight_and_share.show_email ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove any existing visible interfaces/containers.\n\t\thasRemoveVisibleElements();\n\n\t\t\n\t};\n\t// Get JS Content and return if not set.\n\tconst jsContent = HAS.content;\n\tif ( '' === jsContent ) {\n\t\treturn;\n\t}\n\n\t// Set variables.\n\tconst prefix = HAS.prefix;\n\tconst suffix = HAS.suffix;\n\n\t// Get all elements matching jsContent. Return if nothing is found.\n\tconst elements = document.querySelectorAll( jsContent );\n\tif ( null === elements ) {\n\t\treturn;\n\t}\n\n\t// Loop through elements and set up mouseup event.\n\telements.forEach( ( element ) => {\n\t\telement.addEventListener( 'mouseup', ( event ) => {\n\t\t\t// Remove any visible elements.\n\t\t\thasRemoveVisibleElements();\n\n\t\t\t// Get selected text.\n\t\t\tconst selection = window.getSelection();\n\t\t\tconst selectedText = selection.toString().trim();\n\n\t\t\tif ( '' === selectedText ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get closest parent container.\n\t\t\tconst elementParent = event.target.closest( '.has-content-area' );\n\n\t\t\t// Get data attributes.\n\t\t\tconst href = elementParent.dataset.url ?? window.location.href;\n\t\t\tconst title = elementParent.dataset.title ?? document.title;\n\t\t\tconst hashtags = elementParent.dataset.hashtags ?? '';\n\n\t\t\t// Display Highlight and Share.\n\t\t\thasDisplay( selectedText, title, href, hashtags, event );\n\t\t} );\n\t} );\n}() );\n"],"names":["HAS","highlight_and_share","isVisible","element","style","window","getComputedStyle","display","visibility","opacity","hasRemoveVisibleElements","hasContainers","document","querySelectorAll","forEach","container","remove","hasDisplay","text","title","href","hashtags","event","show_twitter","show_facebook","show_linkedin","show_ok","show_vk","show_pinterest","show_email","jsContent","content","prefix","suffix","elements","addEventListener","selection","getSelection","selectedText","toString","trim","elementParent","target","closest","dataset","url","location"],"sourceRoot":""}